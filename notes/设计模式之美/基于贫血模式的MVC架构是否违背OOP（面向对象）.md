### 基于贫血模式的MVC架构是否违背OOP（面向对象）





##### 什么是贫血模型？

​		只包含数据，不包含业务逻辑的类，就叫做**贫血模型**。这种贫血模型将数据和操作分离，破坏了面向对象的封装特性，是一种典型的面向过程的编程风格。



#### 什么是基于充血模型的DDD开发模式？

##### 什么是充血模型？

​		即：数据和对应的业务逻辑都被封装到同一个类中。这种充血模型满足面向对象的封装特性，是典型的面向对象的编程风格。

##### 什么是领域驱动设计？

​		领域驱动设计，即：DDD，主要就是用来知道如何解耦业务系统，划分业务模块，定于业务领域以及其交互。微服务加速了领域驱动设计的盛行。

​		**与贫血模型下的传统开发的区别主要在Service层**。

​		在基于贫血模型的传统开发模式中，Service层包含Service类和各种实体类，数据和业务逻辑完全分开。但是充血模型下，Service层包含Service类和Domain类两部分。Domain就相当于贫血模型中的BO，但是他既包含数据也包含业务员逻辑。service类变得非常单薄。即总结为: **基于贫血模型的传统的开发模式，重 Service 轻 BO；基于充血模型的 DDD 开发模式，轻 Service 重Domain。**



##### 为什么基于贫血模型的传统开发模式如此受欢迎？

​		第一点原因是，大部分情况下，我们开发的系统业务可能都比较简单，简单到就是基于SQL 的 CRUD 操作，所以，我们根本不需要动脑子精心设计充血模型，贫血模型就足以应付这种简单业务的开发工作。

​		第二点原因是，充血模型的设计要比贫血模型更加有难度。因为充血模型是一种面向对象的编程风格。我们从一开始就要设计好针对数据要暴露哪些操作，定义哪些业务逻辑。而不是像贫血模型那样，我们只需要定义数据，之后有什么功能开发需求，我们就在 Service 层定义什么操作，不需要事先做太多设计。

​		第三点原因是，思维已固化，转型有成本。基于贫血模型的传统开发模式经历了这么多年，已经深得人心、习以为常。你随便问一个旁边的大龄同事，基本上他过往参与的所有 Web项目应该都是基于这个开发模式的，而且也没有出过啥大问题。如果转向用充血模型、领域驱动设计，那势必有一定的学习成本、转型成本。很多人在没有遇到开发痛点的情况下，是不愿意做这件事情的。



##### 为什么DDD逻辑处理都转移到了Domain中，为什么还是需要Service类，Service类在这种情况中担当的职责是什么？

​		负责与数据层进行交互，为了保持领域模型的独立性，不与其他代码或者开发框架进行耦合，将流程性的代码逻辑与领域模型的代码逻辑解耦，让领域模型更加的复用。

​		负责跨领域模型的业务聚合功能，

​		负责一些非功能性以及第三方系统交互的工作。



##### 如何进行面向对象设计？

​		划分职责进而识别出有哪些类，

​		定义类以及属性的方法

​		定义类与类之间的交互关系

​		将类组装起来并提供执行入口。