## 数据在磁盘的数据落地存储

​		我们通过Buffer Pool 了解到我们一个请求打到数据库的大致查询逻辑，了解了数据缓存机制、内存更新机制以及缓存到磁盘的数据刷新机制，现在我们要了解一下Mysql的物理存储结构。

#### 一行数据在数据库怎么存储？

​		这里涉及到一个**行格式**的概念　，我们可以在创建或者说后续修改数据的保存的行格式，　比如，（其他的存储格式大同小异）

```
我们使用的行格式是COMPACT。那么数据结构为：

变长列表的长度列表，ｎｕｌｌ值列表，数据头，　column01的值， column02的值。。。。
```

其中针对变长字段的存储，比如varchar。是通过一行的数据的最前面进行存储对应的长度，如果多个变长那他们是逆序排列。

（注意，如果对应的值为null，则不需要再变长字段长度列表中声明对应的长度，）

针对null值列表的话，是通过二进制bit位来进行存储的。（存放的顺序也是按逆序排列的，而且存储一般都是八的倍数，比如你只有四个字段，但是实际上保存了00000101八位。）

